language: ruby
os: linux
dist: focal
before_install:
  - apt-get update
  - apt-get install python3.8
jobs:
  include:
    - rvm: 2.7
      script:
        - python3 --version
        - python3 -m pip install setuptools
        - ruby -v
        - gem install bundler -v 2.2.15
        - cd tests
        - bundle
        - bundle exec ruby tests/ci.rb

    - rvm: 2.6
      script:
        - python3 --version
        - python3 -m pip install setuptools
        - ruby -v
        - gem install bundler -v 2.2.15
        - cd tests
        - bundle
        - gem list
        - gem env
        - bundle exec ruby tests/ci.rb

    - rvm: 2.5
      script:
        - python3 --version
        - python3 -m pip install setuptools
        - ruby -v
        - gem install bundler -v 2.2.15
        - cd tests
        - bundle
        - bundle exec ruby tests/ci.rb

